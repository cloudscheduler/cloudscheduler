language: java
jdk:
  - oraclejdk8

install: mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V

script:
  - mvn test -P !build-extras -B
  - find $HOME/.m2 -name "_remote.repositories" | xargs rm
  - find $HOME/.m2 -name "resolver-status.properties" | xargs rm -f

cache:
  directories:
    - $HOME/.m2
